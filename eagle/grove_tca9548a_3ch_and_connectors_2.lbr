<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE eagle SYSTEM "eagle.dtd">
<eagle version="9.6.2">
  <drawing>
    <settings>
      <setting alwaysvectorfont="yes"/>
      <setting verticaltext="up"/>
    </settings>

    <library>
      <description>
Grove TCA9548A module footprint (82x22mm) + M2 holes + keepout
+ Grove I2C connector (JST-PH 4P 2.00mm THT)
Includes:
- GROVE_TCA9548A_MODULE_MECH_ONLY (PCB placement only)
- GROVE_TCA9548A_MODULE_3CH (Upstream I2C + CH0..CH2 for 3 sensors)
- GROVE_CONN_4P_2P00_THT (VCC/GND/SCL/SDA)
      </description>

      <packages>
        <!-- Module footprint -->
        <package name="GROVE_TCA9548A_MODULE_82X22_M2_5H">
          <description>Outline 82x22mm + 5x M2 holes (Ø2.0mm) + keepout. Origin at centre.</description>

          <wire x1="-41" y1="-11" x2="41" y2="-11" width="0.127" layer="21"/>
          <wire x1="41" y1="-11" x2="41" y2="11" width="0.127" layer="21"/>
          <wire x1="41" y1="11" x2="-41" y2="11" width="0.127" layer="21"/>
          <wire x1="-41" y1="11" x2="-41" y2="-11" width="0.127" layer="21"/>

          <wire x1="-41" y1="-11" x2="41" y2="-11" width="0.127" layer="39"/>
          <wire x1="41" y1="-11" x2="41" y2="11" width="0.127" layer="39"/>
          <wire x1="41" y1="11" x2="-41" y2="11" width="0.127" layer="39"/>
          <wire x1="-41" y1="11" x2="-41" y2="-11" width="0.127" layer="39"/>

          <hole x="-31.10" y="9.34" drill="2.0"/>
          <hole x="-31.41" y="-10.93" drill="2.0"/>
          <hole x="9.14"  y="9.19" drill="2.0"/>
          <hole x="9.14"  y="-11.08" drill="2.0"/>
          <hole x="39.08" y="-1.10" drill="2.0"/>

          <!-- Dummy pads for valid EAGLE connects (outside outline) -->
          <smd name="P_VCC"   x="45" y="5" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_GND"   x="45" y="4" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SCLIN" x="45" y="3" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SDAIN" x="45" y="2" dx="0.5" dy="0.5" layer="1"/>

          <smd name="P_SC0" x="45" y="0" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SD0" x="45" y="-1" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SC1" x="45" y="-2" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SD1" x="45" y="-3" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SC2" x="45" y="-4" dx="0.5" dy="0.5" layer="1"/>
          <smd name="P_SD2" x="45" y="-5" dx="0.5" dy="0.5" layer="1"/>

          <text x="-41" y="13" size="1.27" layer="25">&gt;NAME</text>
          <text x="-41" y="-14.5" size="1.27" layer="27">&gt;VALUE</text>
        </package>

        <!-- Grove connector footprint: JST-PH 4P 2.00mm THT -->
        <package name="JST_PH_4P_2P00_THT_GROVE">
          <description>Grove 4-pin (JST-PH), 2.00mm pitch, THT. Pin1=VCC.</description>

          <wire x1="-4.5" y1="-2.5" x2="4.5" y2="-2.5" width="0.127" layer="21"/>
          <wire x1="4.5" y1="-2.5" x2="4.5" y2="6.5" width="0.127" layer="21"/>
          <wire x1="4.5" y1="6.5" x2="-4.5" y2="6.5" width="0.127" layer="21"/>
          <wire x1="-4.5" y1="6.5" x2="-4.5" y2="-2.5" width="0.127" layer="21"/>
          <text x="-4.5" y="6.9" size="1.27" layer="21">1</text>

          <pad name="1" x="-3.0" y="0" drill="0.9" diameter="1.6" shape="square"/>
          <pad name="2" x="-1.0" y="0" drill="0.9" diameter="1.6"/>
          <pad name="3" x="1.0"  y="0" drill="0.9" diameter="1.6"/>
          <pad name="4" x="3.0"  y="0" drill="0.9" diameter="1.6"/>

          <text x="-4.5" y="-4.2" size="1.27" layer="25">&gt;NAME</text>
          <text x="-4.5" y="-6.0" size="1.27" layer="27">&gt;VALUE</text>
        </package>
      </packages>

      <symbols>
        <symbol name="GROVE_4PIN_I2C">
          <description>Grove I2C connector symbol: VCC, GND, SCL, SDA.</description>
          <wire x1="-10.16" y1="-5.08" x2="10.16" y2="-5.08" width="0.254" layer="94"/>
          <wire x1="10.16" y1="-5.08" x2="10.16" y2="5.08" width="0.254" layer="94"/>
          <wire x1="10.16" y1="5.08" x2="-10.16" y2="5.08" width="0.254" layer="94"/>
          <wire x1="-10.16" y1="5.08" x2="-10.16" y2="-5.08" width="0.254" layer="94"/>
          <text x="-10.16" y="6.35" size="1.778" layer="95">&gt;NAME</text>
          <text x="-10.16" y="-7.62" size="1.778" layer="96">&gt;VALUE</text>

          <pin name="VCC" x="-15.24" y="2.54" length="short" direction="pwr"/>
          <pin name="GND" x="-15.24" y="0.00" length="short" direction="pwr"/>
          <pin name="SCL" x="-15.24" y="-2.54" length="short" direction="io"/>
          <pin name="SDA" x="-15.24" y="-5.08" length="short" direction="io"/>
        </symbol>

        <symbol name="GROVE_TCA9548A_MECH">
          <description>Representação mecânica (sem ligações eléctricas).</description>
          <wire x1="-20.32" y1="-5.08" x2="20.32" y2="-5.08" width="0.254" layer="94"/>
          <wire x1="20.32" y1="-5.08" x2="20.32" y2="5.08" width="0.254" layer="94"/>
          <wire x1="20.32" y1="5.08" x2="-20.32" y2="5.08" width="0.254" layer="94"/>
          <wire x1="-20.32" y1="5.08" x2="-20.32" y2="-5.08" width="0.254" layer="94"/>
          <text x="-20.32" y="6.35" size="1.778" layer="95">&gt;NAME</text>
          <text x="-20.32" y="-7.62" size="1.778" layer="96">&gt;VALUE</text>
          <text x="-17.78" y="-1.27" size="1.778" layer="94">Grove TCA9548A</text>
          <text x="-17.78" y="-3.81" size="1.27" layer="94">MECH ONLY</text>
        </symbol>

        <symbol name="GROVE_TCA9548A_3CH">
          <description>Ligação: upstream I2C + 3 canais (CH0..CH2).</description>
          <wire x1="-25.4" y1="-12.7" x2="25.4" y2="-12.7" width="0.254" layer="94"/>
          <wire x1="25.4" y1="-12.7" x2="25.4" y2="17.78" width="0.254" layer="94"/>
          <wire x1="25.4" y1="17.78" x2="-25.4" y2="17.78" width="0.254" layer="94"/>
          <wire x1="-25.4" y1="17.78" x2="-25.4" y2="-12.7" width="0.254" layer="94"/>
          <text x="-25.4" y="19.05" size="1.778" layer="95">&gt;NAME</text>
          <text x="-25.4" y="-14.98" size="1.778" layer="96">&gt;VALUE</text>

          <!-- Upstream -->
          <pin name="VCC"    x="-30.48" y="12.70" length="short" direction="pwr"/>
          <pin name="GND"    x="-30.48" y="10.16" length="short" direction="pwr"/>
          <pin name="SCL_IN" x="-30.48" y="5.08"  length="short" direction="io"/>
          <pin name="SDA_IN" x="-30.48" y="2.54"  length="short" direction="io"/>

          <!-- Channels on right -->
          <pin name="SC0" x="30.48" y="12.70" length="short" direction="io" rot="R180"/>
          <pin name="SD0" x="30.48" y="10.16" length="short" direction="io" rot="R180"/>
          <pin name="SC1" x="30.48" y="5.08"  length="short" direction="io" rot="R180"/>
          <pin name="SD1" x="30.48" y="2.54"  length="short" direction="io" rot="R180"/>
          <pin name="SC2" x="30.48" y="-2.54" length="short" direction="io" rot="R180"/>
          <pin name="SD2" x="30.48" y="-5.08" length="short" direction="io" rot="R180"/>
        </symbol>
      </symbols>

      <devicesets>
        <deviceset name="GROVE_CONN_4P_2P00_THT" prefix="J">
          <description>Grove I2C connector (JST-PH 2.0mm THT). Pin1=VCC, 2=GND, 3=SCL, 4=SDA.</description>
          <gates>
            <gate name="G$1" symbol="GROVE_4PIN_I2C" x="0" y="0"/>
          </gates>
          <devices>
            <device name="" package="JST_PH_4P_2P00_THT_GROVE">
              <connects>
                <connect gate="G$1" pin="VCC" pad="1"/>
                <connect gate="G$1" pin="GND" pad="2"/>
                <connect gate="G$1" pin="SCL" pad="3"/>
                <connect gate="G$1" pin="SDA" pad="4"/>
              </connects>
              <technologies><technology name=""/></technologies>
            </device>
          </devices>
        </deviceset>

        <deviceset name="GROVE_TCA9548A_MODULE_MECH_ONLY" prefix="M">
          <description>Somente mecânico: contorno + furos + keepout.</description>
          <gates>
            <gate name="G$1" symbol="GROVE_TCA9548A_MECH" x="0" y="0"/>
          </gates>
          <devices>
            <device name="" package="GROVE_TCA9548A_MODULE_82X22_M2_5H">
              <connects/>
              <technologies><technology name=""/></technologies>
            </device>
          </devices>
        </deviceset>

        <deviceset name="GROVE_TCA9548A_MODULE_3CH" prefix="U">
          <description>Upstream I2C + 3 canais (CH0..CH2). Usa pads dummy fora do contorno.</description>
          <gates>
            <gate name="G$1" symbol="GROVE_TCA9548A_3CH" x="0" y="0"/>
          </gates>
          <devices>
            <device name="" package="GROVE_TCA9548A_MODULE_82X22_M2_5H">
              <connects>
                <connect gate="G$1" pin="VCC"    pad="P_VCC"/>
                <connect gate="G$1" pin="GND"    pad="P_GND"/>
                <connect gate="G$1" pin="SCL_IN" pad="P_SCLIN"/>
                <connect gate="G$1" pin="SDA_IN" pad="P_SDAIN"/>
                <connect gate="G$1" pin="SC0"    pad="P_SC0"/>
                <connect gate="G$1" pin="SD0"    pad="P_SD0"/>
                <connect gate="G$1" pin="SC1"    pad="P_SC1"/>
                <connect gate="G$1" pin="SD1"    pad="P_SD1"/>
                <connect gate="G$1" pin="SC2"    pad="P_SC2"/>
                <connect gate="G$1" pin="SD2"    pad="P_SD2"/>
              </connects>
              <technologies><technology name=""/></technologies>
            </device>
          </devices>
        </deviceset>

      </devicesets>
    </library>
  </drawing>
</eagle>
